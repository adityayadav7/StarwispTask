{"ast":null,"code":"var _jsxFileName = \"/Users/alokyadav/Aditya_Project/Starwisp_task/uni_frontend/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport '../style/style.css';\nimport axios from \"axios\";\nimport fire from '../Firebase'; // import { browserHistory} from \"react-router\";\n\nimport Loader from './Loader';\nimport toast from 'toasted-notes';\nimport 'toasted-notes/src/styles.css';\nimport { Link } from 'react-router-dom';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.login = this.login.bind(this);\n    this.prev = this.prev.bind(this);\n    this.next = this.next.bind(this);\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.state = {\n      userid: '',\n      password: '',\n      error: '',\n      step: true,\n      load: false\n    };\n  }\n\n  login(e) {\n    let user = {\n      user_id: this.state.userid,\n      password: this.state.password\n    };\n    axios.post('http://localhost:5000/api/login', user).then(res => {\n      console.log('login');\n      this.props.history.push('/dashboard');\n      toast.notify(\"Logged In\", {\n        duration: 2000\n      });\n    }).catch(err => {\n      this.setState({\n        load: false\n      });\n      toast.notify(\"Incorrect Password\");\n      console.log('Error: ' + err.toString());\n    }); // const email = document.querySelector('#email').value;\n    // const password = document.querySelector('#password').value;\n    // fire.auth().signInWithEmailAndPassword(email.trim(), password)\n    //   .then(res => {\n    //     toast.notify(\"Logged In\", {\n    //       duration: 2000\n    //     })\n    //     console.log('Successfully Logged In');\n    //     this.props.history.push('/dashboard');\n    //     localStorage.setItem('userId', email)\n    //     this.setState({ load: false });\n    //   })\n    //   .catch((err) => {\n    //     this.setState({ load: false });\n    //     if (err.code === \"auth/wrong-password\") {\n    //       this.setState({ error: \"incorrect password\" });\n    //     }\n    //     // this.state.error=err;\n    //     toast.notify(\"Incorrect Password\")\n    //     console.log('Error: ' + err.toString());\n    //   })\n  }\n\n  onhandle() {\n    this.login();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"base-container\",\n      ref: this.props.containerRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"xb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, this.state.load ? /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 30\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form\",\n      onSubmit: this.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"in_pswd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, this.state.error), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 19\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"userid\",\n      type: \"text\",\n      name: \"email\",\n      value: this.state.userid,\n      placeholder: \"Enter email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 19\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"password\",\n      name: \"password\",\n      value: this.state.password,\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"footer12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.onhandle.bind(this),\n      className: \"btn1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 19\n      }\n    }, \"Login\"))))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/alokyadav/Aditya_Project/Starwisp_task/uni_frontend/src/components/Login.js"],"names":["React","Component","axios","fire","Loader","toast","Link","Login","constructor","props","onChange","e","setState","target","id","value","login","bind","prev","next","onChangeEmail","state","userid","password","error","step","load","user","user_id","post","then","res","console","log","history","push","notify","duration","catch","err","toString","onhandle","render","containerRef"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport '../style/style.css';\nimport axios from \"axios\";\nimport fire from '../Firebase';\n// import { browserHistory} from \"react-router\";\nimport Loader from './Loader';\nimport toast from 'toasted-notes';\nimport 'toasted-notes/src/styles.css';\nimport { Link } from 'react-router-dom';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.login = this.login.bind(this);\n    this.prev = this.prev.bind(this);\n    this.next = this.next.bind(this);\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.state = {\n      userid: '',\n      password: '',\n      error: '',\n      step: true,\n      load: false\n\n    }\n  }\n  onChange = e => {\n    this.setState({ [e.target.id]: e.target.value });\n};\n \n\n\n  login(e) {\n   let user={\n     user_id:this.state.userid,\n     password:this.state.password\n   }\n    axios.post('http://localhost:5000/api/login',user)\n    .then(res=>{\n      console.log('login');\n      this.props.history.push('/dashboard');\n      toast.notify(\"Logged In\", {\n              duration: 2000\n            })\n    })\n    .catch((err) => {\n          this.setState({ load: false });\n          \n          toast.notify(\"Incorrect Password\")\n          console.log('Error: ' + err.toString());\n        })\n\n\n    // const email = document.querySelector('#email').value;\n    // const password = document.querySelector('#password').value;\n\n    // fire.auth().signInWithEmailAndPassword(email.trim(), password)\n    //   .then(res => {\n    //     toast.notify(\"Logged In\", {\n    //       duration: 2000\n    //     })\n    //     console.log('Successfully Logged In');\n    //     this.props.history.push('/dashboard');\n    //     localStorage.setItem('userId', email)\n    //     this.setState({ load: false });\n    //   })\n    //   .catch((err) => {\n    //     this.setState({ load: false });\n    //     if (err.code === \"auth/wrong-password\") {\n\n    //       this.setState({ error: \"incorrect password\" });\n\n    //     }\n    //     // this.state.error=err;\n    //     toast.notify(\"Incorrect Password\")\n    //     console.log('Error: ' + err.toString());\n    //   })\n  }\n\n\n\n\n \n  onhandle() {\n    this.login();\n  }\n\n\n\n\n  render() {\n   \n\n    return (\n      <div className=\"base-container\" ref={this.props.containerRef}>\n        <div className=\"xb\">\n          {this.state.load ? <Loader /> :\n            <div>\n              <div className=\"form\" onSubmit={this.login}>\n                <div className=\"header\">Login</div>\n                <div className=\"in_pswd\">{this.state.error}</div>\n                <div className=\"form-group\" >\n                  <label >Email address</label>\n                  <input \n                    id=\"userid\" \n                    type=\"text\" \n                    name=\"email\" \n                    value={this.state.userid}  \n                    placeholder=\"Enter email\"\n                    />\n                </div>\n                <div className=\"form-group\">\n                  <label >Password</label>\n                  <input type=\"password\" id=\"password\" name=\"password\" value={this.state.password} placeholder=\"Password\" />\n                </div>\n                <div className='footer12'>\n                  <button type=\"submit\" onClick={this.onhandle.bind(this)} className=\"btn1\">Login</button>\n                </div>\n              </div>\n\n\n            </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}