{"ast":null,"code":"var _jsxFileName = \"/Users/alokyadav/Aditya_Project/Starwisp_task/uni_frontend/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport '../style/style.css';\nimport fire from '../Firebase'; // import { browserHistory} from \"react-router\";\n\nimport Loader from './Loader';\nimport toast from 'toasted-notes';\nimport 'toasted-notes/src/styles.css';\nimport { Link } from 'react-router-dom';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.login = this.login.bind(this);\n    this.prev = this.prev.bind(this);\n    this.next = this.next.bind(this);\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.state = {\n      email: '',\n      password: '',\n      error: '',\n      step: true,\n      load: false\n    };\n  }\n\n  componentDidMount() {\n    // [START signout]\n    fire.auth().signOut(); // [END signout]\n  }\n\n  login(e) {\n    if (fire.auth().currentUser) {\n      fire.auth().signOut();\n    }\n\n    this.setState({\n      load: true\n    });\n    const email = document.querySelector('#email').value;\n    const password = document.querySelector('#password').value;\n    fire.auth().signInWithEmailAndPassword(email.trim(), password).then(res => {\n      toast.notify(\"Logged In\", {\n        duration: 2000\n      });\n      console.log('Successfully Logged In');\n      this.props.history.push('/dashboard');\n      localStorage.setItem('userId', email);\n      this.setState({\n        load: false\n      });\n    }).catch(err => {\n      this.setState({\n        load: false\n      });\n\n      if (err.code === \"auth/wrong-password\") {\n        this.setState({\n          error: \"incorrect password\"\n        });\n      } // this.state.error=err;\n\n\n      toast.notify(\"Incorrect Password\");\n      console.log('Error: ' + err.toString());\n    });\n  }\n\n  onChangeEmail(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  prev() {\n    this.setState({\n      step: true\n    });\n  }\n\n  next() {\n    this.setState({\n      step: false\n    });\n  }\n\n  sess() {\n    this.setState({\n      load: !false\n    });\n    setTimeout(() => {\n      this.setState({\n        load: !true\n      });\n    }, 5000);\n  }\n\n  onhandle() {\n    this.login(); //this.sess()\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"base-container\",\n      ref: this.props.containerRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"xb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, this.state.load ? /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 30\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form\",\n      onSubmit: this.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"in_pswd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, this.state.error), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 19\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"email\",\n      type: \"text\",\n      name: \"email\",\n      placeholder: \"Enter email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 19\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"footer12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.onhandle.bind(this),\n      className: \"btn1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 19\n      }\n    }, \"Login\"))))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/alokyadav/Aditya_Project/Starwisp_task/uni_frontend/src/components/Login.js"],"names":["React","Component","fire","Loader","toast","Link","Login","constructor","props","login","bind","prev","next","onChangeEmail","state","email","password","error","step","load","componentDidMount","auth","signOut","e","currentUser","setState","document","querySelector","value","signInWithEmailAndPassword","trim","then","res","notify","duration","console","log","history","push","localStorage","setItem","catch","err","code","toString","target","sess","setTimeout","onhandle","render","containerRef"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport '../style/style.css';\n\nimport fire from '../Firebase';\n// import { browserHistory} from \"react-router\";\nimport Loader from './Loader';\nimport toast from 'toasted-notes';\nimport 'toasted-notes/src/styles.css';\nimport { Link } from 'react-router-dom';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.login = this.login.bind(this);\n    this.prev = this.prev.bind(this);\n    this.next = this.next.bind(this);\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.state = {\n      email: '',\n      password: '',\n      error: '',\n      step: true,\n      load: false\n\n    }\n  }\n  componentDidMount() {\n\n    // [START signout]\n    fire.auth().signOut();\n    // [END signout]\n\n  }\n\n\n  login(e) {\n    if (fire.auth().currentUser) {\n\n      fire.auth().signOut();\n\n    }\n    this.setState({ load: true });\n    const email = document.querySelector('#email').value;\n    const password = document.querySelector('#password').value;\n\n    fire.auth().signInWithEmailAndPassword(email.trim(), password)\n      .then(res => {\n        toast.notify(\"Logged In\", {\n          duration: 2000\n        })\n        console.log('Successfully Logged In');\n        this.props.history.push('/dashboard');\n        localStorage.setItem('userId', email)\n        this.setState({ load: false });\n      })\n      .catch((err) => {\n        this.setState({ load: false });\n        if (err.code === \"auth/wrong-password\") {\n\n          this.setState({ error: \"incorrect password\" });\n\n        }\n        // this.state.error=err;\n        toast.notify(\"Incorrect Password\")\n        console.log('Error: ' + err.toString());\n      })\n  }\n\n\n\n  onChangeEmail(e) {\n    this.setState({ email: e.target.value });\n  }\n\n\n  prev() {\n    this.setState({ step: true });\n  }\n  next() {\n    this.setState({ step: false });\n  }\n  sess() {\n    this.setState({ load: !false });\n    setTimeout(() => {\n      this.setState({ load: !true });\n    }, 5000);\n  }\n  onhandle() {\n    this.login();\n    //this.sess()\n  }\n\n\n\n\n  render() {\n   \n\n    return (\n      <div className=\"base-container\" ref={this.props.containerRef}>\n        <div className=\"xb\">\n          {this.state.load ? <Loader /> :\n            <div>\n              <div className=\"form\" onSubmit={this.login}>\n                <div className=\"header\">Login</div>\n                <div className=\"in_pswd\">{this.state.error}</div>\n                <div className=\"form-group\" >\n                  <label >Email address</label>\n                  <input id=\"email\" type=\"text\" name=\"email\" placeholder=\"Enter email\"/>\n                </div>\n                <div className=\"form-group\">\n                  <label >Password</label>\n                  <input type=\"password\" id=\"password\" name=\"password\" placeholder=\"Password\" />\n                </div>\n                <div className='footer12'>\n                  <button type=\"submit\" onClick={this.onhandle.bind(this)} className=\"btn1\">Login</button>\n                </div>\n              </div>\n\n\n            </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}