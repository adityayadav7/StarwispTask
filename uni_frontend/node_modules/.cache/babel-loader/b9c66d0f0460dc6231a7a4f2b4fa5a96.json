{"ast":null,"code":"var _jsxFileName = \"/Users/alokyadav/Aditya_Project/Starwisp_task/uni_frontend/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport '../style/style.css';\nimport axios from \"axios\";\nimport fire from '../Firebase'; // import { browserHistory} from \"react-router\";\n\nimport Loader from './Loader';\nimport toast from 'toasted-notes';\nimport 'toasted-notes/src/styles.css';\nimport { Link } from 'react-router-dom';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.login = this.login.bind(this);\n    this.prev = this.prev.bind(this);\n    this.next = this.next.bind(this);\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.state = {\n      userid: '',\n      password: '',\n      error: '',\n      step: true,\n      load: false\n    };\n  }\n\n  componentDidMount() {\n    // [START signout]\n    fire.auth().signOut(); // [END signout]\n  }\n\n  login(e) {\n    let user = {\n      user_id: this.state.userid,\n      password: this.state.password\n    };\n    axios.post('http://localhost:5000/api/login', user).then(res => {\n      console.log('login');\n      this.props.history.push('/dashboard');\n      toast.notify(\"Logged In\", {\n        duration: 2000\n      });\n    }).catch(err => {\n      this.setState({\n        load: false\n      });\n      toast.notify(\"Incorrect Password\");\n      console.log('Error: ' + err.toString());\n    }); // const email = document.querySelector('#email').value;\n    // const password = document.querySelector('#password').value;\n    // fire.auth().signInWithEmailAndPassword(email.trim(), password)\n    //   .then(res => {\n    //     toast.notify(\"Logged In\", {\n    //       duration: 2000\n    //     })\n    //     console.log('Successfully Logged In');\n    //     this.props.history.push('/dashboard');\n    //     localStorage.setItem('userId', email)\n    //     this.setState({ load: false });\n    //   })\n    //   .catch((err) => {\n    //     this.setState({ load: false });\n    //     if (err.code === \"auth/wrong-password\") {\n    //       this.setState({ error: \"incorrect password\" });\n    //     }\n    //     // this.state.error=err;\n    //     toast.notify(\"Incorrect Password\")\n    //     console.log('Error: ' + err.toString());\n    //   })\n  }\n\n  onChangeEmail(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  prev() {\n    this.setState({\n      step: true\n    });\n  }\n\n  next() {\n    this.setState({\n      step: false\n    });\n  }\n\n  sess() {\n    this.setState({\n      load: !false\n    });\n    setTimeout(() => {\n      this.setState({\n        load: !true\n      });\n    }, 5000);\n  }\n\n  onhandle() {\n    this.login();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"base-container\",\n      ref: this.props.containerRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"xb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }\n    }, this.state.load ? /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 30\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form\",\n      onSubmit: this.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"in_pswd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, this.state.error), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 19\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"userid\",\n      type: \"text\",\n      name: \"email\",\n      placeholder: \"Enter email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 19\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"footer12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.onhandle.bind(this),\n      className: \"btn1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 19\n      }\n    }, \"Login\"))))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/alokyadav/Aditya_Project/Starwisp_task/uni_frontend/src/components/Login.js"],"names":["React","Component","axios","fire","Loader","toast","Link","Login","constructor","props","login","bind","prev","next","onChangeEmail","state","userid","password","error","step","load","componentDidMount","auth","signOut","e","user","user_id","post","then","res","console","log","history","push","notify","duration","catch","err","setState","toString","email","target","value","sess","setTimeout","onhandle","render","containerRef"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport '../style/style.css';\nimport axios from \"axios\";\nimport fire from '../Firebase';\n// import { browserHistory} from \"react-router\";\nimport Loader from './Loader';\nimport toast from 'toasted-notes';\nimport 'toasted-notes/src/styles.css';\nimport { Link } from 'react-router-dom';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.login = this.login.bind(this);\n    this.prev = this.prev.bind(this);\n    this.next = this.next.bind(this);\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.state = {\n      userid: '',\n      password: '',\n      error: '',\n      step: true,\n      load: false\n\n    }\n  }\n  componentDidMount() {\n\n    // [START signout]\n    fire.auth().signOut();\n    // [END signout]\n\n  }\n\n\n  login(e) {\n   let user={\n     user_id:this.state.userid,\n     password:this.state.password\n   }\n    axios.post('http://localhost:5000/api/login',user)\n    .then(res=>{\n      console.log('login');\n      this.props.history.push('/dashboard');\n      toast.notify(\"Logged In\", {\n              duration: 2000\n            })\n    })\n    .catch((err) => {\n          this.setState({ load: false });\n          \n          toast.notify(\"Incorrect Password\")\n          console.log('Error: ' + err.toString());\n        })\n\n\n    // const email = document.querySelector('#email').value;\n    // const password = document.querySelector('#password').value;\n\n    // fire.auth().signInWithEmailAndPassword(email.trim(), password)\n    //   .then(res => {\n    //     toast.notify(\"Logged In\", {\n    //       duration: 2000\n    //     })\n    //     console.log('Successfully Logged In');\n    //     this.props.history.push('/dashboard');\n    //     localStorage.setItem('userId', email)\n    //     this.setState({ load: false });\n    //   })\n    //   .catch((err) => {\n    //     this.setState({ load: false });\n    //     if (err.code === \"auth/wrong-password\") {\n\n    //       this.setState({ error: \"incorrect password\" });\n\n    //     }\n    //     // this.state.error=err;\n    //     toast.notify(\"Incorrect Password\")\n    //     console.log('Error: ' + err.toString());\n    //   })\n  }\n\n\n\n  onChangeEmail(e) {\n    this.setState({ email: e.target.value });\n  }\n\n\n  prev() {\n    this.setState({ step: true });\n  }\n  next() {\n    this.setState({ step: false });\n  }\n  sess() {\n    this.setState({ load: !false });\n    setTimeout(() => {\n      this.setState({ load: !true });\n    }, 5000);\n  }\n  onhandle() {\n    this.login();\n  }\n\n\n\n\n  render() {\n   \n\n    return (\n      <div className=\"base-container\" ref={this.props.containerRef}>\n        <div className=\"xb\">\n          {this.state.load ? <Loader /> :\n            <div>\n              <div className=\"form\" onSubmit={this.login}>\n                <div className=\"header\">Login</div>\n                <div className=\"in_pswd\">{this.state.error}</div>\n                <div className=\"form-group\" >\n                  <label >Email address</label>\n                  <input id=\"userid\" type=\"text\" name=\"email\" placeholder=\"Enter email\"/>\n                </div>\n                <div className=\"form-group\">\n                  <label >Password</label>\n                  <input type=\"password\" id=\"password\" name=\"password\" placeholder=\"Password\" />\n                </div>\n                <div className='footer12'>\n                  <button type=\"submit\" onClick={this.onhandle.bind(this)} className=\"btn1\">Login</button>\n                </div>\n              </div>\n\n\n            </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}