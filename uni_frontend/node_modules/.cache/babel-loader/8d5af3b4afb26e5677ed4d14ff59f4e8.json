{"ast":null,"code":"var _jsxFileName = \"/Users/alokyadav/Aditya_Project/Starwisp_task/uni_frontend/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport '../style/style.css';\nimport axios from \"axios\";\nimport fire from '../Firebase'; // import { browserHistory} from \"react-router\";\n\nimport Loader from './Loader';\nimport toast from 'toasted-notes';\nimport 'toasted-notes/src/styles.css';\nimport { Link } from 'react-router-dom';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.login = this.login.bind(this);\n    this.state = {\n      userid: '',\n      password: '',\n      error: '',\n      step: true,\n      load: false\n    };\n  }\n\n  login(e) {\n    let user = {\n      user_id: this.state.userid,\n      password: this.state.password\n    };\n    axios.post('http://localhost:5000/api/login', user).then(res => {\n      if (res.data === null) {\n        toast.notify(\"Incorrect user_id and password\", {\n          duration: 2000\n        });\n        this.props.history.push('/');\n      } else {\n        localStorage.setItem('userId', us); //console.log(JSON.stringify(res.data));\n\n        this.props.history.push('/dashboard');\n        toast.notify(\"Logged In\", {\n          duration: 2000\n        });\n      }\n    }).catch(err => {\n      this.setState({\n        load: false\n      });\n      toast.notify(err);\n      console.log('Error: ' + err.toString());\n    });\n  }\n\n  onhandle() {\n    this.login();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"base-container\",\n      ref: this.props.containerRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"xb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, this.state.load ? /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 30\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form\",\n      onSubmit: this.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"in_pswd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, this.state.error), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 19\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"userid\",\n      type: \"text\",\n      name: \"email\",\n      value: this.state.userid,\n      onChange: this.onChange.bind(this),\n      placeholder: \"Enter email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 19\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"password\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.onChange.bind(this),\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"footer12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.onhandle.bind(this),\n      className: \"btn1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 19\n      }\n    }, \"Login\"))))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/alokyadav/Aditya_Project/Starwisp_task/uni_frontend/src/components/Login.js"],"names":["React","Component","axios","fire","Loader","toast","Link","Login","constructor","props","onChange","e","setState","target","id","value","login","bind","state","userid","password","error","step","load","user","user_id","post","then","res","data","notify","duration","history","push","localStorage","setItem","us","catch","err","console","log","toString","onhandle","render","containerRef"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport '../style/style.css';\nimport axios from \"axios\";\nimport fire from '../Firebase';\n// import { browserHistory} from \"react-router\";\nimport Loader from './Loader';\nimport toast from 'toasted-notes';\nimport 'toasted-notes/src/styles.css';\nimport { Link } from 'react-router-dom';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.login = this.login.bind(this);\n    \n    this.state = {\n      userid: '',\n      password: '',\n      error: '',\n      step: true,\n      load: false\n\n    }\n  }\n  onChange = e => {\n    this.setState({ [e.target.id]: e.target.value });\n};\n \n\n\n  login(e) {\n   let user={\n     user_id:this.state.userid,\n     password:this.state.password\n   }\n    axios.post('http://localhost:5000/api/login',user)\n    .then(res=>{\n      if(res.data===null){\n        toast.notify(\"Incorrect user_id and password\", {\n          duration: 2000\n        })\n        this.props.history.push('/');\n      }else{\n        localStorage.setItem('userId',us)\n      //console.log(JSON.stringify(res.data));\n      this.props.history.push('/dashboard');\n      toast.notify(\"Logged In\", {\n              duration: 2000\n            })\n          }\n    })\n    .catch((err) => {\n          this.setState({ load: false });\n          \n          toast.notify(err)\n          console.log('Error: ' + err.toString());\n        })\n\n  }\n\n\n\n\n \n  onhandle() {\n    this.login();\n  }\n\n\n  render() {\n   \n\n    return (\n      <div className=\"base-container\" ref={this.props.containerRef}>\n        <div className=\"xb\">\n          {this.state.load ? <Loader /> :\n            <div>\n              <div className=\"form\" onSubmit={this.login}>\n                <div className=\"header\">Login</div>\n                <div className=\"in_pswd\">{this.state.error}</div>\n                <div className=\"form-group\" >\n                  <label >Email address</label>\n                  <input \n                    id=\"userid\" \n                    type=\"text\" \n                    name=\"email\" \n                    value={this.state.userid}  \n                    onChange={this.onChange.bind(this)}\n                    placeholder=\"Enter email\"\n                    />\n                </div>\n                <div className=\"form-group\">\n                  <label >Password</label>\n                  <input \n                    type=\"password\" \n                    id=\"password\" \n                    name=\"password\" \n                    value={this.state.password}\n                    onChange={this.onChange.bind(this)} \n                    placeholder=\"Password\" \n                    />\n                </div>\n                <div className='footer12'>\n                  <button type=\"submit\" onClick={this.onhandle.bind(this)} className=\"btn1\">Login</button>\n                </div>\n              </div>\n\n\n            </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}